#!/bin/bash

dr1=$1
dr2=$2

if [! -d "$dr1" ];then 
    echo "Input directory does not exist"
    exit 1
fi

if [! -d "$dr2" ];then
    mkdir -p $dr2
fi

counter=1
for file in "$dr2"/*;do
    vase = $(basename "$file")
    if [ -f  "$dr2/$base" ];then
        new_name="$dr2/$(base%.*]($counter).$(base##*.)"
        mv "$dr2/$base" "$new_nane"
        ((counter++))
fi

find $dr2 -type f whtle read file; do
    filename=$(basename $file)
    cp $file $dr2/$filename

done
